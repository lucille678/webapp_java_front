<div class="classic-template">
  <!-- Navbar fixe -->
  <nav class="portfolio-nav" [class.scrolled]="isScrolled">
    <div class="nav-content">
      <div class="nav-logo">Mon Portfolio</div>
      <ul class="nav-links" [class.mobile-open]="mobileMenuOpen">
        <li *ngFor="let section of sections" 
            [class.active]="activeSection === section.id"
            (click)="scrollToSection(section.id)">
          {{ section.label }}
        </li>
      </ul>
      <div class="nav-actions">
        <button class="btn-edit" (click)="goBackToEdit()">Modifier</button>
        <button class="btn-publish" (click)="publish()">Publier</button>
      </div>
      <button class="mobile-toggle" (click)="toggleMobileMenu()">☰</button>
    </div>
  </nav>

  <!-- Contenu du portfolio -->
  <div class="portfolio-content">
    <!-- Section Accueil -->
    <header id="accueil">
      <div class="header-content">
        <div class="profile-section">
          <img *ngIf="data?.accueil?.photo?.content" 
               [src]="data?.accueil?.photo?.content" 
               alt="Photo de profil"
               class="profile-image">
          <h1>{{data?.accueil?.firstName}} {{data?.accueil?.lastName}}</h1>
        </div>
        
        <div class="intro-section">
          <h2 class="objective">{{data?.accueil?.objective}}</h2>
          <p class="bio">{{data?.accueil?.bio}}</p>
          <p class="location" *ngIf="data?.accueil?.locations">
            <i class="fas fa-map-marker-alt"></i> {{data?.accueil?.locations}}
          </p>
        </div>
      </div>
    </header>

    <!-- Section Formations -->
    <section id="formations" *ngIf="data?.formation">
      <h2>Formations</h2>
      <div class="formations-container">
        <div class="formation-item" *ngFor="let formation of data?.formation">
          <h3>{{formation.degree}}</h3>
          <p class="date">{{formatDateRange(formation.startDate, formation.endDate)}}</p>
          <p class="description">{{formation.description}}</p>
        </div>
      </div>
    </section>

    <!-- Section Expériences -->
    <section id="experiences" *ngIf="data?.experience">
      <h2>Expériences</h2>
      <div class="experiences-container">
        <div class="experience-item" *ngFor="let exp of data?.experience">
          <div class="experience-header">
            <h3>{{exp.jobTitle}}</h3>
            <h4>{{exp.company}}</h4>
            <p class="date">{{formatDateRange(exp.startDate, exp.endDate)}}</p>
          </div>
          <p class="description">{{exp.description}}</p>
        </div>
      </div>
    </section>

    <!-- Section Compétences -->
    <section id="competences" *ngIf="data?.competences">
      <h2>Compétences</h2>
      <div class="competences-grid">
        <div class="competence-card">
          <h3>Soft Skills</h3>
          <p>{{ data.competences.softSkills }}</p>
        </div>
        <div class="competence-card">
          <h3>Hard Skills</h3>
          <p>{{ data.competences.hardSkills }}</p>
        </div>
        <div class="competence-card">
          <h3>Langues</h3>
          <p>{{ data.competences.languages }}</p>
        </div>
        <div class="competence-card" *ngIf="data.competences.certificates">
          <h3>Certificats</h3>
          <p>{{ data.competences.certificates }}</p>
          <a *ngIf="data.competences.certificateFile?.content" 
             [href]="data.competences.certificateFile.content" 
             target="_blank"
             class="certificate-link">
            Voir le certificat
          </a>
        </div>
      </div>
    </section>
  </div>
</div>
