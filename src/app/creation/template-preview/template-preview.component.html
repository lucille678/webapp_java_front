<div class="classic-template">
  <!-- Navbar fixe -->
  <nav class="portfolio-nav" [class.scrolled]="isScrolled">
    <div class="nav-content">
      <div class="nav-logo">Mon Portfolio</div>
      <ul class="nav-links" [class.mobile-open]="mobileMenuOpen">
        <li *ngFor="let section of sections" 
            [class.active]="activeSection === section.id"
            (click)="scrollToSection(section.id)">
          {{ section.label }}
        </li>
      </ul>
      <div class="nav-actions">
        <button class="btn-edit" (click)="goBackToEdit()">Modifier</button>
        <button class="btn-publish" (click)="publish()">Publier</button>
      </div>
      <button class="mobile-toggle" (click)="toggleMobileMenu()">☰</button>
    </div>
  </nav>

  <!-- Contenu du portfolio -->
  <div class="portfolio-content">
    <!-- Section Accueil -->
    <header id="accueil">
      <div class="header-content">
        <div class="profile-section">
          <img *ngIf="data?.accueil?.photo?.content" 
               [src]="data.accueil.photo.content" 
               alt="Photo de profil"
               class="profile-image">
          <h1>{{data?.accueil?.firstName}} {{data?.accueil?.lastName}}</h1>
        </div>
        
        <div class="intro-section">
          <p class="objective">{{data?.accueil?.objective}}</p>
          <p class="bio">{{data?.accueil?.bio}}</p>
          <p class="location">{{data?.accueil?.locations}}</p>
        </div>
      </div>
    </header>

    <!-- Section Formations -->
    <section id="formations" *ngIf="data?.formation">
      <h2>Formations</h2>
      <div class="formations-container">
        <div class="formation-item" *ngFor="let formation of data?.formation">
          <h3>{{formation.degree}}</h3>
          <p class="date">{{formation.dates}}</p>
          <p>{{formation.description}}</p>
        </div>
      </div>
    </section>

    <!-- Section Expériences -->
    <section id="experiences" *ngIf="data?.experience">
      <h2>Expériences</h2>
      <div class="experiences-container">
        <div class="experience-item" *ngFor="let exp of data?.experience">
          <h3>{{exp.jobTitle}}</h3>
          <h4>{{exp.company}}</h4>
          <p class="date">{{exp.dates}}</p>
          <p>{{exp.description}}</p>
        </div>
      </div>
    </section>

    <!-- Section Compétences -->
    <section id="competences" *ngIf="data?.competences">
      <h2>Compétences</h2>
      <div class="competences-grid">
        <!-- Compétences standard -->
        <div class="competence-card" *ngIf="data.competences.softSkills">
          <h3>Soft Skills</h3>
          <p>{{data.competences.softSkills}}</p>
        </div>
        <div class="competence-card" *ngIf="data.competences.hardSkills">
          <h3>Hard Skills</h3>
          <p>{{data.competences.hardSkills}}</p>
        </div>
        <div class="competence-card" *ngIf="data.competences.languages">
          <h3>Langues</h3>
          <p>{{data.competences.languages}}</p>
        </div>

        <!-- Certificats -->
        <div class="competence-card certificates" *ngIf="data.competences.certificates?.length">
          <h3>Certificats</h3>
          <div class="certificates-list">
            <div class="certificate-item" *ngFor="let cert of data.competences.certificates">
              <span class="certificate-name">{{cert.name}}</span>
              <a *ngIf="cert.file?.content" 
                 [href]="cert.file.content" 
                 target="_blank"
                 class="certificate-link">
                 Voir le certificat <i class="fas fa-external-link-alt"></i>
              </a>
            </div>
          </div>
        </div>

        <!-- Catégories personnalisées -->
        <div class="competence-card" *ngFor="let category of data.competences.customCategories">
          <h3>{{category.name}}</h3>
          <p>{{category.content}}</p>
        </div>
      </div>
    </section>
  </div>
</div>
